{
	"info": {
		"name": "Geonature v2",
		"_postman_id": "e0c72971-0e47-7e8e-6751-ddf48f08399c",
		"description": "GeoNature is a web application for naturalist data management developed by Ecrins National Park and Cevennes Nation Park.\nHere is the documentation about its web API.\n\nMore information :\nhttp://geonature.fr/\nhttps://github.com/PnX-SI/GeoNature",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Occurrence de taxons",
			"description": "Routes of 'Occurrence de taxon' module.\n\nAccess to the naturalist observations entered in the 'Occurrence de taxon' module.\n\nAll data are exchanges in GeoJson format",
			"item": [
				{
					"name": "contact/vreleve?cd_nom=351",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/vreleve?cd_nom=351&date_up=2016-01-01&date_low=2018-01-01&date_eq=2017-01-01&observer=1&observer=3",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"vreleve"
							],
							"query": [
								{
									"key": "cd_nom",
									"value": "351",
									"equals": true
								},
								{
									"key": "date_up",
									"value": "2016-01-01",
									"equals": true
								},
								{
									"key": "date_low",
									"value": "2018-01-01",
									"equals": true
								},
								{
									"key": "date_eq",
									"value": "2017-01-01",
									"equals": true
								},
								{
									"key": "observer",
									"value": "1",
									"equals": true
								},
								{
									"key": "observer",
									"value": "3",
									"equals": true
								}
							]
						},
						"description": "Return all the observations in GeoJson format with the current filter"
					},
					"response": []
				},
				{
					"name": "contact/vrelevecontact",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/vrelevecontact?cd_nom=67111&orderby=cd_nom&order=desc&limit=1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"vrelevecontact"
							],
							"query": [
								{
									"key": "cd_nom",
									"value": "67111",
									"equals": true
								},
								{
									"key": "orderby",
									"value": "cd_nom",
									"equals": true
								},
								{
									"key": "order",
									"value": "desc",
									"equals": true
								},
								{
									"key": "limit",
									"value": "1",
									"equals": true
								}
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "contact/releve/1",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve",
								"1"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "contact/releves",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/releves",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releves"
							]
						},
						"description": "Return all releves"
					},
					"response": []
				},
				{
					"name": "contact/occurrences",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/occurrences",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"occurrences"
							]
						},
						"description": "Return all occurences"
					},
					"response": []
				},
				{
					"name": "contact/releve",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic Og=="
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"geometry\": {\"type\": \"Point\", \"coordinates\": [4.563980749, 45.19474135]},\n  \"properties\": {   \n    \"id_dataset\": 1,\n    \"id_digitiser\": 1,  \n    \"date_min\": \"2017-01-01 00:00:00\",\n    \"date_max\": \"2017-01-01 00:00:00\", \n    \"altitude_min\": 1500,\n    \"altitude_max\": 1565, \n    \"meta_device_entry\": \"web\",\n    \"comment\": \"exemple test comment\",\n    \"observers\": [1,2,3],\n    \"id_releve_contact\": 7,\n    \"t_occurrences_contact\": [\n      {\n        \"id_nomenclature_obs_technique\": 343,\n        \"id_nomenclature_obs_meth\": 65,\n        \"id_nomenclature_bio_condition\": 177,\n        \"id_nomenclature_bio_status\": 30,\n        \"id_nomenclature_naturalness\": 182,\n        \"id_nomenclature_exist_proof\": 91,\n        \"id_nomenclature_valid_status\": 347, \n        \"id_nomenclature_diffusion_level\": 163,\n        \"id_validator\": 1,\n        \"determiner\": \"gil\",\n        \"determination_method\": \"gees\",  \n        \"cd_nom\": 60612,\n        \"nom_cite\": \"Lynx Bor\\u00e9al\",\n        \"meta_v_taxref\": \"Taxref V9.0\",\n        \"sample_number_proof\": \"Herbier_Dentant-15-37869\", \n        \"digital_proof\": \"\", \n        \"non_digital_proof\": \"plante en herbier\",\n        \"deleted\": false, \n        \"comment\": \"MODIF\",\n        \"cor_counting_contact\": [\n          {\n            \"id_nomenclature_life_stage\": 4,\n            \"id_nomenclature_sex\": 190,\n            \"id_nomenclature_obj_count\": 166,\n            \"id_nomenclature_type_count\": 107, \n            \"count_min\": 15,\n            \"count_max\": 20\n          },\n          {\n            \"id_nomenclature_life_stage\": 4,\n            \"id_nomenclature_sex\": 191,\n            \"id_nomenclature_obj_count\": 166,\n            \"id_nomenclature_type_count\": 107, \n            \"count_min\": 1,\n            \"count_max\": 1\n          }\n        ] \n      }\n    ] \n  }\n}"
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "contact/releveWithObserversTxt",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic Og=="
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"geometry\": {\"type\": \"Point\", \"coordinates\": [4.563980749, 45.19474135]},\n  \"properties\": {   \n    \"id_dataset\": 1,\n    \"id_digitiser\": 1,  \n    \"date_min\": \"2017-01-01 00:00:00\",\n    \"date_max\": \"2017-01-01 00:00:00\", \n    \"altitude_min\": 1500,\n    \"altitude_max\": 1565, \n    \"meta_device_entry\": \"web\",\n    \"comment\": \"exemple test comment\",\n    \"observers_txt\":\"Super Obs, Pouet\",\n    \"id_releve_contact\": 7,\n    \"t_occurrences_contact\": [\n      {\n        \"id_nomenclature_obs_technique\": 343,\n        \"id_nomenclature_obs_meth\": 65,\n        \"id_nomenclature_bio_condition\": 177,\n        \"id_nomenclature_bio_status\": 30,\n        \"id_nomenclature_naturalness\": 182,\n        \"id_nomenclature_exist_proof\": 91,\n        \"id_nomenclature_valid_status\": 347, \n        \"id_nomenclature_diffusion_level\": 163,\n        \"id_validator\": 1,\n        \"determiner\": \"gil\",\n        \"determination_method\": \"gees\",  \n        \"cd_nom\": 60612,\n        \"nom_cite\": \"Lynx Bor\\u00e9al\",\n        \"meta_v_taxref\": \"Taxref V9.0\",\n        \"sample_number_proof\": \"Herbier_Dentant-15-37869\", \n        \"digital_proof\": \"\", \n        \"non_digital_proof\": \"plante en herbier\",\n        \"deleted\": false, \n        \"comment\": \"MODIF\",\n        \"cor_counting_contact\": [\n          {\n            \"id_nomenclature_life_stage\": 4,\n            \"id_nomenclature_sex\": 190,\n            \"id_nomenclature_obj_count\": 166,\n            \"id_nomenclature_type_count\": 107, \n            \"count_min\": 15,\n            \"count_max\": 20\n          },\n          {\n            \"id_nomenclature_life_stage\": 4,\n            \"id_nomenclature_sex\": 191,\n            \"id_nomenclature_obj_count\": 166,\n            \"id_nomenclature_type_count\": 107, \n            \"count_min\": 1,\n            \"count_max\": 1\n          }\n        ] \n      }\n    ] \n  }\n}"
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "contact/releve/7",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve/7",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve",
								"7"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "/contact/releve/occurrence_counting/21",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve/occurrence_counting/21",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve",
								"occurrence_counting",
								"21"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "contact/releve/occurrence/21",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/contact/releve/occurrence/21",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"contact",
								"releve",
								"occurrence",
								"21"
							]
						},
						"description": null
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "22c247cd-7317-40c2-8b83-342dea8d0b16",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "51beeef5-6af2-4a58-9bb4-e777c86d70ef",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Metadata",
			"description": "Routes of the metadata module.\nInformations about datasets, acqusition framework, protocols, programs...",
			"item": [
				{
					"name": "meta/parameters/<param_name>/<id_org>",
					"request": {
						"method": "GET",
						"header": [],
						"body": {},
						"url": {
							"raw": "http://localhost:8000/meta/parameters/taxref_version",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"meta",
								"parameters",
								"taxref_version"
							]
						},
						"description": "Return the value of the parameter for an organism.\nThe second parameter is optional (return the default paramater value)"
					},
					"response": []
				},
				{
					"name": "meta/datasets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Cookie",
								"value": "token=eyJleHAiOjE1MTU2NjY4NzIsImFsZyI6IkhTMjU2IiwiaWF0IjoxNTE1NjU5NjcyfQ.eyJpZGVudGlmaWFudCI6ImFnZW50IiwiaWRfYXBwbGljYXRpb24iOjE0LCJpZF9vcmdhbmlzbWUiOi0xLCJpZF9kcm9pdF9tYXgiOjMsImlkX3JvbGUiOjJ9.kwj4kOifWDo4WHMQXA2X4_lC3sQBUQuT6eRN46IDIVw"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/meta/datasets",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"meta",
								"datasets"
							]
						},
						"description": "Liste des datasets"
					},
					"response": []
				},
				{
					"name": "meta/aquisition_framework_mtd/<uuid_af>",
					"request": {
						"method": "POST",
						"header": [],
						"body": {},
						"url": {
							"raw": "http://localhost:8000/meta/aquisition_framework_mtd/60dac805-2568-13eb-e053-2614a8c0d040",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"meta",
								"aquisition_framework_mtd",
								"60dac805-2568-13eb-e053-2614a8c0d040"
							]
						},
						"description": "Post an acquisition framework using the MTD webservice\nParameter:\nuuid_af: uuid of the acquisition framework"
					},
					"response": []
				},
				{
					"name": "meta/dataset_mtd/<id_user>/<id_organism>",
					"request": {
						"method": "POST",
						"header": [],
						"body": {},
						"url": {
							"raw": "http://localhost:8000/meta/dataset_mtd/9188",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"meta",
								"dataset_mtd",
								"9188"
							]
						},
						"description": "Post all the datasets created by a user using the MTD webservice\nparameter:\nid_user: an user ID send back by INPN CAS authentification\nid_organism:(Optional) a organism ID send back by INPN CAS authentification "
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "b0cd844c-c6cd-433f-9cd8-ff44e1e4ee94",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "42ac51f0-65bc-4384-914f-ff98c02db3aa",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Nomenclatures",
			"description": "Routes of the nomenclature sub module.\n\nThis submodule is use to get the dropdown list's values of the differents forms.\nIn GeoNature we use the nomenclature of the SINP: http://standards-sinp.mnhn.fr/nomenclature/\n\nhttps://github.com/PnX-SI/Nomenclature-api-module",
			"item": [
				{
					"name": "nomenclatures/nomenclature/6?regne=Animalia",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/nomenclatures/nomenclature/6?regne=Animalia",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"nomenclatures",
								"nomenclature",
								"6"
							],
							"query": [
								{
									"key": "regne",
									"value": "Animalia",
									"equals": true
								}
							]
						},
						"description": "Return all nomenclature for one type"
					},
					"response": []
				},
				{
					"name": "nomenclatures/nomenclatures?id_type=22&id_type=6",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/nomenclatures/nomenclatures?id_type=22&id_type=6",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"nomenclatures",
								"nomenclatures"
							],
							"query": [
								{
									"key": "id_type",
									"value": "22",
									"equals": true
								},
								{
									"key": "id_type",
									"value": "6",
									"equals": true
								}
							]
						},
						"description": "Return all nomenclature for several types"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "3677ae1b-98d8-44ff-bef0-cb79da48ecda",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "37a8ef02-58c2-469d-884e-9626d27e06a0",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Geographic",
			"description": "Routes of the geographic referential module",
			"item": [
				{
					"name": "geo/info",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "conte",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"geometry\": {\"type\": \"Point\", \"coordinates\": [3.6054, 44.31736339]}\n}"
						},
						"url": {
							"raw": "http://localhost:8000/geo/info",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"geo",
								"info"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "geo/areas - alltype",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"geometry\": {\"type\": \"Point\", \"coordinates\": [3.6054, 44.31736339]}\n}"
						},
						"url": {
							"raw": "http://localhost:8000/geo/areas",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"geo",
								"areas"
							]
						},
						"description": null
					},
					"response": []
				},
				{
					"name": "geo/areas - filterby communes",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"geometry\": {\"type\": \"Point\", \"coordinates\": [3.6054, 44.31736339]},\n  \"id_type\":101\n}"
						},
						"url": {
							"raw": "http://localhost:8000/geo/areas",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"geo",
								"areas"
							]
						},
						"description": null
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "5e16e2e6-522b-49f8-8ea6-040f7ae4f561",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c562ec1d-e09f-4f93-9056-83242bdef88c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Users",
			"description": "Routes of the user referential module",
			"item": [
				{
					"name": "users/menu/9",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8000/users/menu/9",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"users",
								"menu",
								"9"
							]
						},
						"description": "Return all role for one menu"
					},
					"response": []
				},
				{
					"name": "users/role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"id_role\":45,\n\t\"identifiant\": \"test\",\n\t\"nom_role\": \"test.test\",\n\t\"prenom_role\": \"nom test\",\n\t\"id_organisme\": 1\n}"
						},
						"url": {
							"raw": "http://localhost:8000/users/role",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"users",
								"role"
							]
						},
						"description": "Post a user"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "437e0679-2a0a-421c-80f2-032fe6843ec1",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "e9f5ad7f-06af-4539-a801-5e81ca497b2f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "bcde5528-42f9-454a-8f3e-c27dac05c2c7",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "bab6d4ab-669d-4672-934c-90a1bdc8bd5c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}